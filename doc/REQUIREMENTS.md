## ■ AI会話エンジン について

- **ひとことで言うと**
    - マルチMCP音声基盤
- **目的**
    - AIグラス（ウェアラブル端末）向けの音声アシスタント
    - 音声入力→MCP経由のデータ取得→音声出力
- **必須価値**
    - パーソナル化された回答
        - ユーザー固有情報・嗜好・直近文脈を反映
- **基本体験**
    - 日常生活に関する質問、健康提案、予定サジェスト等を「Coreエンジン」だけで提供
    - さらに任意のMCPアプリ（例: 料理補助）を追加すると専門機能をONにできる
- **文章で言うと**
    - パーソナル化を核に据えたマルチMCP対応の音声基盤で、
    基本エンジン（RAG/DB/Memory）は常設して必要に応じて料理補助などの追加アプリをMCPで接続できる

## ■ 改良ビジョン

- キーワードは「マルチエージェント」
- 複数エージェントが順次&同時実行
- こういった「マルチエージェント」という設計は流行ってきている


### ▼ マルチエージェントの直列タイプ

要はタスク分解

- これは現在の構成でも似たようなことをやっているが、それをさらに細分化して精度を上げたいと考えています
- 音声入力→回答作成→音声応答応答整形という一連の処理を細分化

- 各工程に専用エージェントを配置して精度を高める
    - 言うのは簡単だが、細分化の粒度と各々の設計が高度
- **例**
    - ユーザの意図分析エージェント
    - 各MCPを最適に使うエージェント
    - ガードレールエージェント
    - 評価エージェント
    - とか…?

### ▼ マルチエージェントの並列タイプ

要はコンペ方式

- 並列実装×AI評価システム
    - → 4体のAIを同時実行し、評価AIが採点
    - → 各AIの中から最も優れた回答を採用するコンペのようなシステム
- 重要な工程（プランニング、最終回答整形など）で稼働させる
- 評価AIが勝者を選ぶ（必要なら複数案をマージする）

- そして、AI会話エンジンでは、直列タイプ・並列タイプ両方採用する
- その両方採用した構成を、軍風メタファーとして、スクアッド形式などと、呼ぶことにする
    - 単体ではなく複数、かつそれぞれの専門分野で仕事するイメージから

---

## ■ いまこのプロジェクトで実現していること

- RealtimeAPI + AgentsSDK + 共通のMCP基盤
    - 音声入力/音声指示で シナリオ切り替え

- 内部で使用しているAI
    - gpt-realtim
        - **gpt-4o-transcribe**（音声入力の文字起こし）
    - **gpt-5-mini**（モデレーション／ガードレール）
    - **gpt-5**（Chat Supervisor の上司モデル）
    - **gpt-5**（返品エージェントの推論チェック）

## ■ 今後のオリジナルシナリオ例（アプリMCP）

- 追加シナリオ
    - 料理補助、フィットネス、旅行プランナーなど、個人がオン／オフできる追加アプリ

1. 料理シナリオを選択
    1. シナリオエージェントが発話内容から料理アプリON
2. 夕食の献立について相談する
    1. 料理エージェントがユーザーの設定＋プロフィール（食物アレルギー等）データ収集
    2. mcp.profile でユーザーの好み・栄養制限を取得
    3. mcp.memory で最近の食事ログを参照
    4. mcp.cooking（オプションアプリ）がレシピ候補や冷蔵庫在庫を検索
    5. mcp.search（RAG）でユーザが気に入っている筋トレ記事を参照
    6. 必要に応じてweb検索で最新のトレンドを補足
3. レスポンス合成
    1. Supervisor AgentがすべてのMCP結果を統合し、
    「今日は〇〇gタンパク質が不足ぎみなので、冷蔵庫の鶏むね肉とブロッコリーを使った△△レシピがおすすめ」とかの回答を生成
    2. あと、その要約を mcp.memory へ記録し、次回以降の提案精度を上げる
4. ユーザーが「料理モードを終了」と言えば router が再度Coreモードのみに戻る